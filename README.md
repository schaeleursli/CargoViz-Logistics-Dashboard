# Magic Patterns - Vite Template

This code was generated by [Magic Patterns](https://magicpatterns.com) for this design: [Source Design](https://www.magicpatterns.com/c/wzgovnaehuyq7hcfk3ggoy)

## Getting Started

1. Run `npm install`
2. Run `npm run dev`

Here is the Phase 1 MVP PRD for CargoViz / NoMap in clean, structured Markdown format, focused solely on Yard Management with GIS, cargo assignment, and placement features.

⸻


# 📦 CargoViz / NoMap – MVP Phase 1 PRD  
**Phase:** 1 – Yard Management  
**Date:** 2025-07-04  
**Owner:** [Your Name]  
**Status:** Finalized for Development

---

## 🔍 Overview

The goal of MVP Phase 1 is to enable spatial management of cargo within defined yard areas using GIS data. Users can create projects, define yards and zones via Mapbox, import cargo data, and assign cargo items to spaces with GPS-level precision using 2D or basic 3D interfaces.

This MVP sets the foundation for later labeling/scanning (Phase 2) and transport planning (Phase 3).

---

## 🧭 Objectives

- Create and manage yard maps with private geospatial data
- Import and register cargo via spreadsheet or manual input
- Place cargo in specific yard zones (auto or manual)
- Visualize yard and cargo spatially (2D/3D)
- Export cargo placement and yard manifest reports

---

## 🧱 Feature Summary

### 1. 📁 Project Management

| Feature            | Description |
|--------------------|-------------|
| Create Projects     | Title, location, client, timeline |
| User Roles          | Admin, Planner, Viewer |
| Project Dashboard   | List of active projects and yards |

---

### 2. 🗺️ Yard & Zone Mapping (Mapbox)

| Feature               | Description |
|-----------------------|-------------|
| GIS Layer Upload      | Upload drone maps, WMS, raster base layers |
| Draw Yard Zones       | Use polygon tool to define areas |
| Zone Attributes       | Name, capacity, surface type, elevation |
| GeoJSON Export        | Save yard and zone layout as GeoJSON |

```ts
Yard {
  id, name, project_id, center_point: {lat, lng}, polygon_boundary: GeoJSON[]
}
Space {
  id, yard_id, name, polygon_coordinates: GeoJSON[], elevation_m: float
}


⸻

3. 📦 Cargo Management

Feature	Description
Import Cargo	Upload Excel, CSV, or connect Google Sheet
Manual Entry	Add/edit cargo item one-by-one
Metadata Fields	Name, dimensions, weight, type, status
Lifecycle Status	Expected → Placed → Assigned (manual update)
Grouping	Optional: cargo groups or batches

CargoItem {
  id, project_id, name, type, dimensions: {l,w,h}, weight_kg, status: string,
  placed_location: {lat, lng} | null, orientation_deg: number | null
}


⸻

4. 🧠 Cargo Placement Logic

Feature	Description
Manual Placement	Click on map to place cargo (snap to zone)
Auto Placement	Basic rectangle bin-pack algorithm by zone
Placement Preview	Show cargo footprint before confirming
Conflict Detection	Warn if space exceeded or invalid placement


⸻

5. 🗺️ 2D / 3D Visualization

Feature	Description
2D Map View	View yard zones and cargo via Mapbox GL JS
3D Yard View	Basic 3D viewer using Three.js (Phase 1 Lite)
Filter View	Filter by zone, cargo type, status
Toggle View Modes	Satellite / Yard Layout / Cargo Overlay


⸻

6. 📤 Export & Reporting

Feature	Description
Yard Manifest	CSV/PDF list of cargo per zone
Zone Export	GeoJSON of yard layout with cargo overlay
Placement Snapshot	Export map screenshot with cargo blocks


⸻

🧑‍💼 User Roles & Permissions

Role	Permissions
Admin	Full access to all features
Planner	Add/edit projects, yards, cargo
Viewer	Read-only access to maps and manifests


⸻

🧰 Tech Stack

Component	Tech
Frontend	Vue 3 or React, Mapbox GL JS
Backend	Node.js + Supabase/PostgreSQL
GIS	GeoJSON, WMS support
Import	SheetJS (xlsx/csv parser)
3D Rendering	Three.js (basic box view)
Auth	Supabase Auth + RBAC


⸻

📊 MVP Success Criteria

Metric	Target
Time to place cargo item	< 10 seconds
Load 100+ cargo items on map	< 2 seconds
Export manifest accuracy	100%
GIS zone detection accuracy	100%


⸻

🚧 Out of Scope (Phase 2+)
	•	Labeling & barcode printing
	•	Barcode scanning / mobile app
	•	Transport load planning or permit logic
	•	Escort and supplier management

⸻

✅ Next Steps
	1.	UI Mockups in MagicPatterns: Yard view, cargo import, placement UI
	2.	Finalize Supabase schema based on this PRD
	3.	Create import template (Excel + Google Sheets)
	4.	Sprint 1: Project + Yard + GIS
	5.	Sprint 2: Cargo Registry + Placement + Export

---

Would you like the next step to be:
- 🧱 Supabase SQL schema based on this PRD?  
- 🎨 MagicPatterns prompt for the **Yard + Cargo Placement UI**?  
- 📋 Sprint breakdown (2-week format) for development planning?

Let’s move forward efficiently with implementation!
